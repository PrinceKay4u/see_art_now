{% extends "admin/admin_base.html" %}


{% block title %}
All Users
{% endblock %}



{% block content %}
<div class="row">
    <div class="col">
        {% set msg = get_flashed_messages(with_categories=True)%}
        {% if msg %}
        {% for cat,message in msg %}
            {% if cat == 'failed'%}
            <p class="alert alert-danger">{{message}}</p>
            {%endif%}
            {% if cat == 'success'%}
            <p class="alert alert-success">{{message}}</p>
            {%endif%}
        {%endfor%}
        {% endif%}
        <h1 class="text-center border-bottom border-2 border-dark pb-2 my-3">All Users</h1>
    </div>
</div>

<div class="row">
    <div class="col">
        <table class="table table-dark table-striped-columns table-hover">
            <thead>
                <tr>
                    <th>S/N</th>
                    <th>Firstname</th>
                    <th>Lastname</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Gender</th>
                    <th>Date Joined</th>
                    <th>User Status</th>
                    <th>ban</th>
                    <th>Unban</th>
                    <th>delete</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td> {{loop.index}} </td>
                    <td> {{user.user_firstname}} </td>
                    <td> {{user.user_lastname}} </td>
                    <td> {{user.username}} </td>
                    <td> {{user.user_email}} </td>
                    <td> {{user.user_phone}} </td>
                    <td> {{user.user_gender}} </td>
                    <td> {{user.user_joindate}} </td>
                    <td> {{user.user_status}} </td>
                    <td> <a href="/ban/{{user.user_id}}" class="btn btn-warning rounded-0">Ban</a> </td>
                    <td> <a href="/unban/{{user.user_id}}" class="btn btn-success rounded-0">Unban</a> </td>
                    <td> <a href="/delete/{{user.user_id}}" class="btn btn-danger rounded-0">Delete</a> </td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}




{% block scripts %}
<script src="/static/bootstrap/js/bootstrap.bundle.js"></script>
<script src="/static/js/jquery-3.7.1.min.js"></script>     
{% endblock %}